---
title: "ames-map"
output: html_document
editor_options: 
  chunk_output_type: console
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)

library(tidyverse)
library(AmesHousing)
library(leaflet)

theme_set(theme_light())
```

## Purpose

Make a map of the ames housing dataset to show what could be useful with the leaflet package.

```{r}
df <- AmesHousing::ames_raw %>% 
    janitor::clean_names()

df_geo = AmesHousing::ames_geo %>% 
    janitor::clean_names()

df = df %>% 
    inner_join(df_geo)
```

```{r}
library(skimr)

df %>% 
  skim()
```



```{r}
df %>% 
    ggplot(aes(x = latitude, y = longitude, colour = sale_price)) +
    geom_point() +
    scale_color_gradient2()

df %>% 
  ggplot(aes(sale_price)) + 
  geom_histogram()

```


```{r}
df %>% 
    select(latitude, longitude) %>% 
    leaflet() %>% 
    addTiles() %>% 
    addCircleMarkers(lng = ~ longitude, lat = ~latitude) 
```

### Descriptives

```{r}
df %>% count(utilities, sort = T)
df %>% count(ms_zoning, sort = T)
df %>% count(overall_qual, sort = T)
df %>% count(overall_cond, sort = T)
df %>% count(house_style, sort = T)
df %>% count(roof_style, sort = T)



df %>% skimr::skim()
```

